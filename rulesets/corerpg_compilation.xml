<?xml version="1.0" encoding="utf-8"?>
<root>
	<!-- Source: campaign/template_campaign.xml -->
	<template name="button_imagewindow_sizeup">
		<button_window_sizeup>
			<anchored position="insidetopright" offset="60,24" />
		</button_window_sizeup>
	</template>
	<template name="button_ichat">
		<button_icon name="button_ichat">
			<anchored to="rightanchor" width="20" height="20">
				<top />
				<right relation="relative" offset="-5" postoffet="-5" />
			</anchored>
			<icon normal="content_chat" />
			<tooltip textres="record_chat" />
			<script>
				function onButtonPress()
					RecordShareManager.onShareButtonPressed(window);
				end
			</script>
		</button_icon>
	</template>

	<!-- Source: common/template_records.xml -->
	<template name="anchor_record_image_header_right">
		<genericcontrol name="rightanchor">
			<anchored height="0" width="0">
				<top offset="5" />
				<right offset="-50" />
			</anchored>
		</genericcontrol>
	</template>
	<template name="frame_record_content">
		<genericcontrol name="contentframe">
			<anchored>
				<top parent="header" anchor="bottom" offset="7" />
				<left offset="15" />
				<right offset="-20" />
				<bottom offset="-20" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="frame_record_content_tabbed">
		<genericcontrol name="contentframe">
			<anchored>
				<top parent="header" anchor="bottom" offset="7" />
				<left offset="15" />
				<right offset="-30" />
				<bottom offset="-20" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<!--Image Window Background foreground-->
	<template name="imagedata_record_step">
		<imagedatacontrol>
			<invisible />
			<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			<backcolor>232323</backcolor> <!-- Replaceable Color: Primary Background -->
		</imagedatacontrol>
	</template>
	<template name="imagepaneldata_record_step">
		<imagedatacontrol>
			<invisible />
			<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			<backcolor>232323</backcolor> <!-- Replaceable Color: Primary Background -->
		</imagedatacontrol>
	</template>
	<!--Image Window Background foreground end-->
	<template name="string_record_name">
		<basicstring>
			<anchored>
				<top offset="2"/>
				<left offset="40" />
				<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
			</anchored>
			<font>reference-title</font>
			<multilinespacing>25</multilinespacing>
			<nodrag />
			<delaykeyupdate />
		</basicstring>
	</template>
	<template name="string_record_name_image">
		<string_record_name>
			<anchored height="25" merge="merge" />
			<multilinespacing merge="delete" />
		</string_record_name>
	</template>
	<template name="string_record_name_ref">
		<string_record_name>
			<anchored merge="merge">
				<right parent="" anchor="right" relation="absolute" offset="-25" />
			</anchored>
			<nodrag />
			<readonly />
		</string_record_name>
	</template>
	<template name="sub_note_header">
		<subwindow>
			<anchored>
				<top offset="3" />
				<left offset="15" />
				<right offset="-25" />
			</anchored>
			<activate />
			<fastinit />
		</subwindow>
	</template>

	<!-- Source: common/template_windows.xml -->
	<template name="button_window_sizedown">
		<button_window_sizedown_base>
			<anchored height="16" width="16" />
		</button_window_sizedown_base>
	</template>
	<template name="button_window_sizeup">
		<button_window_sizeup_base>
			<anchored height="16" width="16" />
		</button_window_sizeup_base>
	</template>
	<template name="close">
		<close_base>
			<anchored height="16" width="16">
				<top />
				<right />
			</anchored>
		</close_base>
	</template>
	<template name="close_calendar">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>
	<template name="close_campaignlist">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-4" />
			</anchored>
		</close>
	</template>
	<template name="close_charselect">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>
	<template name="close_partysheet">
		<close>
			<anchored>
				<top offset="13" />
				<right offset="-15" />
			</anchored>
		</close>
	</template>
	<template name="close_referencelist">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>
	<template name="close_referencepage">
		<close>
			<anchored>
				<top offset="7" />
				<right offset="-4" />
			</anchored>
		</close>
	</template>
	<template name="close_tokenbag">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>
	<template name="close_utilitybox">
		<close>
			<anchored>
				<top offset="13" />
				<right offset="-9" />
			</anchored>
		</close>
	</template>
	<template name="close_utilitybox2">
		<close>
			<anchored>
				<top offset="8" />
				<right offset="-9" />
			</anchored>
		</close>
	</template>
	<template name="close_utilitybox3">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>
	<template name="help">
		<help_base>
			<anchored height="16" width="16">
				<top />
				<right offset="-16" />
			</anchored>
		</help_base>
	</template>
	<template name="help_calendar">
		<help>
			<anchored>
				<top offset="14" />
				<right offset="-28" />
			</anchored>
		</help>
	</template>
	<template name="help_charselect">
		<help>
			<anchored>
				<top offset="14" />
				<right offset="-28" />
			</anchored>
		</help>
	</template>
	<template name="help_imagebox">
		<help>
			<anchored>
				<top offset="24" />
				<right offset="-44" />
			</anchored>
		</help>
	</template>
	<template name="help_imagepanel">
		<help>
			<anchored position="insidetopright" offset="17,1" />
			<invisible />
		</help>
	</template>
	<template name="help_partysheet">
		<help>
			<anchored>
				<top offset="13" />
				<right offset="-31" />
			</anchored>
		</help>
	</template>
	<template name="help_referencelist">
		<help>
			<anchored>
				<top offset="14" />
				<right offset="-28" />
			</anchored>
		</help>
	</template>
	<template name="help_tokenbag">
		<help>
			<anchored>
				<top offset="14" />
				<right offset="-28" />
			</anchored>
		</help>
	</template>
	<template name="help_utilitybox">
		<help>
			<anchored>
				<top offset="13" />
				<right offset="-25" />
			</anchored>
		</help>
	</template>
	<template name="help_utilitybox2">
		<help>
			<anchored>
				<top offset="8" />
				<right offset="-25" />
			</anchored>
		</help>
	</template>
	<template name="help_utilitybox3">
		<help>
			<anchored>
				<top offset="14" />
				<right offset="-28" />
			</anchored>
		</help>
	</template>
	<template name="sub_record_header">
		<subwindow>
			<anchored>
				<top offset="10" />
				<left offset="10" />
				<right offset="-25" />
			</anchored>
			<frame name="headergray" offset="5,5,20,5" />
			<activate />
			<fastinit />
		</subwindow>
	</template>
	<template name="tabs_partysheet">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-11" />
			</anchored>
		</buttongroup_tabs>
	</template>
    <template name="tabs_charsheet">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-9" />
			</anchored>
		</buttongroup_tabs>
	</template>
    <template name="tabs_recordsheet">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-1" />
			</anchored>
		</buttongroup_tabs>
	</template>
    <template name="windowtitlebar">
        <genericcontrol>
			<anchored position="insidetop" offset="0,2" height="45" />
            <frame name="windowtitle" offset="30,0,30,0" />
            <script file="common/scripts/windowtitlebar.lua" />
        </genericcontrol>
    </template>

	<!-- Frame: utilitybox -->
	<template name="windowtitlebar_utilitybox">
		<windowtitlebar>
			<anchored offset="0,4" />
		</windowtitlebar>
	</template>
	<template name="windowmenubar_utilitybox">
		<windowmenubar>
			<anchored offset="-13,15" />
		</windowmenubar>
	</template>

	<!-- Frame: partysheet -->
	<template name="windowtitlebar_partysheet">
		<windowtitlebar>
			<anchored offset="0,3" />
		</windowtitlebar>
	</template>
	<template name="windowmenubar_partysheet">
		<windowmenubar>
			<anchored offset="-18,14" />
		</windowmenubar>
	</template>

	<!-- Frame: charselect -->
	<template name="windowtitlebar_charselect">
		<windowtitlebar>
			<anchored offset="0,4" />
		</windowtitlebar>
	</template>
	<template name="windowmenubar_charselect">
		<windowmenubar>
			<anchored offset="-12,11" />
		</windowmenubar>
	</template>

	<!-- Frame: tokenbag -->
	<template name="windowtitlebar_tokenbag">
		<windowtitlebar>
			<anchored offset="0,4" />
		</windowtitlebar>
	</template>
	<template name="windowmenubar_tokenbag">
		<windowmenubar>
			<anchored offset="-16,15" />
		</windowmenubar>
	</template>
    
	<!-- Frame: referencelist -->
	<template name="windowtitlebar_referencelist">
		<windowtitlebar>
			<anchored offset="0,4" />
		</windowtitlebar>
	</template>
	<template name="windowmenubar_referencelist">
		<windowmenubar>
			<anchored offset="-12,11" />
		</windowmenubar>
	</template>
	<template name="anchor_content_referencelist_top">
		<genericcontrol name="contentanchor">
			<anchored height="0">
				<top offset="36" />
				<left offset="15" />
				<right offset="-15" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="anchor_content_referencelist_bottom">
		<genericcontrol name="bottomanchor">
			<anchored to="contentanchor" height="18">
				<bottom parent="" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="resize_referencelist">
		<resize>
			<anchored>
				<right offset="0" />
				<bottom offset="0" />
			</anchored>
		</resize>
	</template>
	<template name="filter_content_bottom">
		<filter name="filter">
			<anchored to="bottomanchor" height="20">
				<bottom parent="bottomanchor" relation="relative" offset="-5" postoffset="-10" />
				<left offset="30" />
				<right offset="-40" />
			</anchored>
		</filter>
	</template>
	<template name="filter_list_content_controls">
		<filter name="filter">
			<anchored to="rightanchor" height="20">
				<top />
				<left parent="area_controls" offset="30" />
				<right relation="relative" offset="-20" />
			</anchored>
		</filter>
	</template>

	<!-- Frame: charselect -->
	<template name="anchor_content_charselect_top">
		<genericcontrol name="contentanchor">
			<anchored height="0">
				<top offset="70" />
				<left offset="30" />
				<right offset="-30" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="anchor_content_charselect_bottom">
		<genericcontrol name="bottomanchor">
			<anchored to="contentanchor" height="18">
				<bottom parent="" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="resize_charselect">
		<resize>
			<anchored>
				<right offset="0" />
				<bottom offset="0" />
			</anchored>
		</resize>
	</template>

	<!-- Frame: ctbox -->
	<template name="windowmenubar_ctbox">
		<windowmenubar>
			<!-- Position of the title bar link, help, and close icons.  First number is right/left, second is down/up. -->
			<anchored offset="-5,9" />
		</windowmenubar>
	</template>
	<template name="anchor_content_ctbox_top">
		<genericcontrol name="contentanchor">
			<anchored height="0">
				<!-- Offset from top, including the sub header. -->
				<top offset="35" />
				<!-- Width of the CT items. -->
				<left offset="2" />
				<right offset="-2" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="anchor_content_ctbox_bottom">
		<genericcontrol name="bottomanchor">
			<!-- Distance of subfooter from bottom. -->
			<anchored to="contentanchor" height="20">
				<bottom parent="" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<!-- Source: ct/ct_host.xml -->
	<windowclass name="combattracker_host" merge="join">
		<sheetdata>
			<list_ct_host name="list">
				<!-- New list positioning.  Makes header offset. -->
				<anchored>
					<top offset="2" />
					<bottom offset="0" />
				</anchored>
			</list_ct_host>
		</sheetdata>
	</windowclass>

	<!-- Frame: recordsheet -->
	<template name="close_recordsheet">
		<close>
			<anchored>
				<top offset="7" />
				<right offset="-8" />
			</anchored>
		</close>
	</template>

	<!-- Frame: charsheet -->
	<template name="close_charsheet">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-15" />
			</anchored>
		</close>
	</template>
	<template name="sub_charsheet">
		<subwindow>
			<anchored>
				<left offset="15" />
				<top parent="overview" anchor="bottom" offset="0" />
				<right offset="-22" />
				<bottom offset="-20" />
			</anchored>
		</subwindow>
	</template>

	<template name="windowmenubar_utilitybox">
		<windowmenubar>
			<anchored offset="-9,11" /> <!-- Orig: 0,0 -->
		</windowmenubar>
	</template>
	<template name="windowmenubar_tokenbag"> <!-- Orig: 0,0 -->
		<windowmenubar>
			<anchored offset="-12,11" />
		</windowmenubar>
	</template>
	<template name="windowmenubar_partysheet">
		<windowmenubar>
			<anchored offset="-15,10" /> <!-- Orig: -1,1 -->
		</windowmenubar>
	</template>
	<template name="windowmenubar_recordsheet">
		<windowmenubar>
			<anchored offset="-11,9" />
		</windowmenubar>
	</template>
   	<template name="windowmenubar_imagebox">
		<windowmenubar>
			<anchored offset="-12,11" /> <!-- left-/right+,up-/down+, menu seems to ignore left/right here. -->
		</windowmenubar>
	</template>
	<template name="windowmenubar_storybox">
		<windowmenubar>
			<anchored offset="-7,4" />
		</windowmenubar>
	</template>
    
    <!-- Anchors -->
	<template name="anchor_content_imagebox_top">
		<genericcontrol name="contentanchor">
			<anchored height="0">
				<top offset="33" />
				<left offset="10" />
				<right offset="-10" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="sub_content_toolbar_top">
		<sub_content_toolbar_base>
			<anchored>
				<top relation="relative" offset="5" postoffset="10" />
			</anchored>
		</sub_content_toolbar_base>
	</template>
	<template name="string_record_header_name_image">
		<string_record_header_name>
			<anchored height="24">
				<top relation="current" offset="8" />
			</anchored>
			<font>imagebox_header</font>
			<multilinespacing merge="delete" />
		</string_record_header_name>
	</template>

	<!-- Frame: storybox -->
	<template name="windowtitlebar_storybox">
		<windowtitlebar>
			<anchored offset="0,0" />
		</windowtitlebar>
	</template>
	<template name="anchor_content_storybox_top">
		<genericcontrol name="contentanchor">
			<anchored height="0">
				<top offset="30" />
				<left offset="10" />
				<right offset="-10" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="anchor_content_storybox_bottom">
		<genericcontrol name="bottomanchor">
			<anchored to="contentanchor" height="10">
				<bottom parent="" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>

	<!-- Frame: charsheethelper -->
	<template name="close_charsheethelper">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="0" />
			</anchored>
		</close>
	</template>

	<!-- Source: ct/ct_host.xml-->
	<windowclass name="ct_effect" merge="join">
		<sheetdata>
			<string_ct_effect_source name="source">
				<color>DDDDDD</color> <!-- Replaceable Color: Secondary Foreground -->
			</string_ct_effect_source>
			<string_ct_effect_targets name="target_summary">
				<color>DDDDDD</color> <!-- Replaceable Color: Secondary Foreground -->
			</string_ct_effect_targets>
		</sheetdata>
	</windowclass>

	<!-- Source: ct/template_ct.xml -->
	<template name="label_ct">
		<label>
			<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
		</label>
	</template>

	<!-- Source: desktop/desktop_classes.xml -->
	<windowclass name="dicetower" merge="join">
		<sizelimits>
			<minimum width="100" height="90" />
		</sizelimits>
		<sheetdata>
			<genericcontrol name="base">
				<bounds>0,0,100,90</bounds>
			</genericcontrol>
		</sheetdata>
	</windowclass>

	<!-- Source: desktop/desktop_panels.xml -->
	<panel name="dicetower" modes="host,client" merge="join">
		<anchored height="100" width="100" />
	</panel>
	
	<!-- Source: desktop/template_desktop.xml -->
	<template name="button_imagebackpanel_sizedown">
		<button_window_sizedown>
			<anchored position="insidetopright" offset="48,1" />
			<invisible />
		</button_window_sizedown>
	</template>
	<template name="button_imagebackpanel_sizeup">
		<button_window_sizeup>
			<anchored position="insidetopright" offset="32,1" />
			<invisible />
		</button_window_sizeup>
	</template>
	<template name="button_imagefullpanel_sizedown">
		<button_window_sizedown>
			<anchored position="insidetopright" offset="32,1" />
			<invisible />
		</button_window_sizedown>
	</template>
    <template name="button_refresh">
		<button_icon>
			<icon normal="refresh" />
		</button_icon>
	</template>

	<!-- Source: CoreRPG ref/template_ref.xml -->
	<template name="anchor_reftitle">
		<genericcontrol>
			<anchored height="0">
				<top parent="reftitle" anchor="bottom" offset="3" />
				<left parent="" anchor="left" offset="35" />
				<right parent="" anchor="right" offset="-50" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="frame_ref_content">
		<genericcontrol name="contentframe">
			<anchored>
				<top parent="header" anchor="bottom" offset="15" />
				<left offset="15" />
				<right offset="-25" />
				<bottom offset="-15" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="sub_ref_header">
		<subwindow>
			<anchored>
				<top offset="10" />
				<left offset="10" />
				<right offset="-25" />
			</anchored>
			<frame name="headergray" offset="6,3,6,3" />
			<activate />
			<fastinit />
		</subwindow>
	</template>
	<template name="button_refmanual_content_copy">
		<button_listitem_icon_framed_right>
			<icon normal="content_copy" />
			<tooltip textres="record_copy" />
			<gmvisibleonly />
			<script>
				function onButtonPress()
					ReferenceManualManager.performPageCopy(window);
				end
			</script>
		</button_listitem_icon_framed_right>
	</template>
	<template name="button_refmanual_content_paste">
		<button_listitem_icon_framed_right>
			<icon normal="content_paste" />
			<tooltip textres="record_paste" />
			<invisible />
			<script>
				function onInit()
					super.onInit();
					if Session.IsHost then
						ReferenceManualManager.registerPagePasteCallback(self.onPasteCallback);
					end
				end
				function onClose()
					if Session.IsHost then
						ReferenceManualManager.unregisterPagePasteCallback(self.onPasteCallback);
					end
				end
				function onPasteCallback()
					self.update();
				end
				function update()
					local bReadOnly = WindowManager.getReadOnlyState(window.getDatabaseNode());
					local bCanPaste = ReferenceManualManager.hasPagePasteRecord();
					setVisible(bCanPaste and not bReadOnly);
				end
				function onButtonPress()
					ReferenceManualManager.performPagePaste(window.parentcontrol.window.content.subwindow);
				end
			</script>
		</button_listitem_icon_framed_right>
	</template>
	<template name="button_refmanual_content_revert">
		<button_listitem_icon_framed_right>
			<icon normal="refresh" />
			<tooltip textres="record_revert" />
			<invisible />
			<script file="ref/scripts/ref_revert.lua" />
		</button_listitem_icon_framed_right>
	</template>
	<template name="button_expand">
		<button_icon>
			<icon normal="button_expand_w" />
			<tooltip textres="tooltip_expand" />
			<target>grouplist,list</target>
			<expand />
			<script file="common/scripts/button_expand_collapse.lua" />
		</button_icon>
	</template>
	<template name="button_collapse">
		<button_icon>
			<icon normal="button_collapse_w" />
			<tooltip textres="tooltip_collapse" />
			<target>grouplist,list</target>
			<collapse />
			<script file="common/scripts/button_expand_collapse.lua" />
		</button_icon>
	</template>

	<!-- CALENDAR -->
	<!-- Source: utility/utility_calendar.xml -->
	<windowclass name="calendar_day" merge="join">
		<script>
			local fSetState;
			function onInit()
				local root = super;
				while root.super do
					root = root.super;
				end
				if root then
					fSetState = root.setState;
					root.setState = updatedSetState;
				end

				if super.onInit then
					super.onInit();
				end
			end
			function onClose()
				super.setState = fSetState;
			end

			function updatedSetState(bCurrDay, bSelDay, bHoliday, nodeEvent)
				fSetState(bCurrDay, bSelDay, bHoliday, nodeEvent);
				if bCurrDay then
					setBackColor(ColorManager.COLOR_CALENDAR_BACKGROUND);
					label_day.setColor(ColorManager.COLOR_PRIMARY_FOREGROUND);
				else
					setBackColor();
					if bHoliday then
						label_day.setColor(ColorManager.COLOR_CALENDAR_HOLIDAY);
					else
						label_day.setColor(ColorManager.COLOR_SECONDARY_FOREGROUND);
					end
				end
			end
		</script>
	</windowclass>
	<windowclass name="calendar_main" merge="join">
		<script>
			local fUpdateDisplay;
			function onInit()
				fUpdateDisplay = super.updateDisplay;
				super.updateDisplay = updateDisplay2;
				
				if super.onInit then
					super.onInit();
				end
			end
			function onClose()
				super.updateDisplay = fUpdateDisplay
			end

			function updateDisplay2()
				fUpdateDisplay();

				local nCampaignMonth = DB.getValue("calendar.current.month", 0);
				for _,v in pairs(list.getWindows()) do
					local nMonth = v.month.getValue();
					local bCampaignMonth = nMonth == nCampaignMonth;

					if bCampaignMonth then
						v.label_period.setColor(ColorManager.COLOR_CALENDAR_MONTH);
					else
						v.label_period.setColor(ColorManager.COLOR_PRIMARY_FOREGROUND);
					end
				end
			end
		</script>
	</windowclass>
	<windowclass name="calendar_main_date" merge="join">
		<sheetdata>
			<stringc_static name="viewdate" merge="join">
				<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			</stringc_static>
			<basicnumber name="currentyear" merge="join">
				<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			</basicnumber>
			<basicstring name="currentepoch" merge="join">
				<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			</basicstring>
			<label name="currenthour" merge="join">
				<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			</label>
			<label name="currentminute" merge="join">
				<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			</label>
			<label name="currentphase" merge="join">
				<color>FFF0CA</color> <!-- Replaceable Color: Primary Foreground -->
			</label>
		</sheetdata>
	</windowclass>
	
	<!-- Source: Campaign/record_image.xml -->
	<!-- Modify the radial menu to add a distinction between the share group and shared icon -->
	<!-- This whole thing is super cludgy, since I can't find any place in CoreRPG that defines menu option 7,5 on images, which is the unshare options -->
	<!-- Yet it's still there and works. Probably hardcoded and buried. -->
	<string name="imagesizefill">Zoom To Fill</string>
	<string name="imagesizefit">Zoom To Fit</string>
	<string name="image_grid_hexrow">Hex Row Grid</string>
	<string name="image_grid_hexcolumn">Hex Column Grid</string>
	<string name="image_grid_square">Squre Grid</string>
	<string name="image_grid_isometric">Isometric Grid</string>

	<!-- Source: campaign/record_char.xml -->
	<windowclass name="charsheet" merge="join">
        <sizelimits>
			<minimum width="525" height="625" />
			<dynamic />
		</sizelimits>
	</windowclass>

	<!-- Source: campaign/campaign_chars.xml -->
	<windowclass name="charselect_host_entry" merge="join">
		<script>
			function onInit()
				super.onInit();

				registerMenuItem(string.format(Interface.getString("char_menu_ownergm"), User.getUsername()), "icon_take_ownership", 3);
			end
		</script>
	</windowclass>

	<!-- Re-color is moved to script instead of xml to support rulesets that don't use the temphp box -->
	<windowclass name="charsheet_main" merge="join">
		<script file="rulesets/scripts/charsheet_main_colors.lua" />
	</windowclass>
	<!-- Source: ct/ct_host.xml -->
	<!-- Re-color is moved to script instead of xml to support rulesets that don't use the temphp box -->
	<windowclass name="ct_entry" merge="join">
		<script file="rulesets/scripts/ct_entry_colors.lua" />
	</windowclass>
	<windowclass name="client_ct_entry" merge="join">
		<script file="rulesets/scripts/ct_entry_colors.lua" />
	</windowclass>

	<template name="spacer_ctentry_active_top">
		<genericcontrol name="active_spacer_top">
			<anchored position="insidetopleft" width="0" height="1" /> <!-- Original height 5-->
			<invisible />
		</genericcontrol>
	</template>
	<template name="spacer_ctentry_active_bottom">
		<genericcontrol name="active_spacer_bottom">
			<anchored width="0" height="2">
				<top parent="active_spacer_top" anchor="bottom" relation="relative" />
				<left />
			</anchored>
			<invisible />
		</genericcontrol>
	</template>
	<template name="spacer_ctentry_middle">
		<genericcontrol name="spacer">
			<anchored width="0" height="0">
				<top parent="active_spacer_top" anchor="bottom" relation="relative" />
				<left />
			</anchored>
		</genericcontrol>
	</template>
	<template name="button_ctentry_active_base">
		<buttonfield>
			<anchored width="33" height="36">
				<top parent="active_spacer_top" anchor="bottom" offset="6" />
				<left offset="-3" />
			</anchored>
			<state icon="ct_passive" />
			<state icon="ct_active" />
		</buttonfield>
	</template>
	<template name="token_ctentry_base">
		<tokenfield>
			<anchored to="leftanchor" width="36" height="36">
				<top offset="-4" />
				<left relation="relative" offset="0" postoffset="13" />
			</anchored>
			<empty>token_empty</empty>
			<script file="common/scripts/token_crosslink.lua" />
		</tokenfield>
	</template>
	<template name="button_ct_entry_isidentified">
		<buttonfield>
			<anchored to="token" position="righthigh" offset="2,2" width="20" height="16" />
			<frame name="tempmodmini" />
			<state icon="button_toolbar_id_false" tooltipres="tooltip_nonid" />
			<state icon="button_toolbar_id_true" tooltipres="tooltip_id" />
			<invisible />
			<gmeditonly />
			<script>
				function onInit()
					setColor(UtilityManager.getControlFontColor(window, "name"));
				end
				function onValueChanged()
					if window.onIDChanged then
						window.onIDChanged();
					end
				end
			</script>
		</buttonfield>
	</template>
	<template name="button_ct_entry_tokenvis">
		<buttonfield>
			<anchored to="token" position="rightlow" offset="2,3" width="20" height="16" />
			<frame name="tempmodmini" />
			<state icon="button_toolbar_visibility_off" tooltipres="ct_tooltip_shownpcon" />
			<state icon="button_toolbar_visibility_on" tooltipres="ct_tooltip_shownpcoff" />
			<invisible/>
			<script>
				function onInit()
					setColor(UtilityManager.getControlFontColor(window, "name"));
				end
				function onValueChanged()
					window.onVisibilityChanged();
				end
			</script>
		</buttonfield>
	</template>
	<template name="string_ct_entry_name">
		<string_ct>
			<anchored to="leftanchor" height="20">
				<top parent="active_spacer_top" anchor="bottom"  relation="relative" offset="7" />
				<left relation="relative" offset="11" />
				<right parent="rightanchor" relation="relative" offset="-10" />
			</anchored>
			<tabtarget next="initresult" />
			<script file="ct/scripts/ct_name.lua" />
		</string_ct>
	</template>
	<template name="resize_ctbox">
		<resize>
			<anchored>
				<right offset="20" />
				<bottom offset="20" />
			</anchored>
		</resize>
	</template>
	<windowclass name="ct_entry" merge="join">
		<sizelimits>
			<minimum height="25" />
		</sizelimits>
	</windowclass>
	<!-- Summary string sections -->
	<template name="string_ct_entry_summary">
		<stringcontrol>
			<anchored>
				<top parent="active_spacer_top" anchor="bottom" relation="relative" offset="5" />
				<left offset="90" />
				<right offset="-8" />
			</anchored>
			<multilinespacing>16</multilinespacing>
			<font>sheettext</font>
			<static />
			<nodrag />
			<invisible />
		</stringcontrol>
	</template>
	<!-- Section container -->
	<template name="sub_ct_section">
		<subwindow>
			<anchored>
				<top parent="active_spacer_top" anchor="bottom" relation="relative" offset="9" />
				<left offset="50" />
				<right offset="-5" />
			</anchored>
		</subwindow>
	</template>

    <!-- Chat window padding adjustments. Source: template_windows.xml -->
    <template name="anchor_content_chatbox_top">
        <genericcontrol name="contentanchor">
            <anchored height="0">
                <top offset="8" />
                <left offset="16" />
                <right offset="-20" />
            </anchored>
            <disabled />
        </genericcontrol>
    </template>

	<template name="anchor_content_chatbox_bottom">
		<genericcontrol name="bottomanchor">
			<anchored to="contentanchor" height="10">
				<bottom parent="" />
				<left />
				<right />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>

    <windowclass name="treasureparcel" merge="join">
		<sheetdata>
			<windowmenubar_recordsheet name="menubar">
			    <anchored offset="-11,6" />
            </windowmenubar_recordsheet>
		</sheetdata>
	</windowclass>
</root>
